# å€‹äººå·¥ä½œæ¸…å–®ç¶²ç«™ - è¦æ ¼æ–‡ä»¶

## å°ˆæ¡ˆæ¦‚è¿°

å€‹äººå·¥ä½œæ¸…å–®ç¶²ç«™æ˜¯ä¸€å€‹åŸºæ–¼ React + TypeScript å’Œ Supabase çš„ä»»å‹™ç®¡ç†æ‡‰ç”¨ç¨‹å¼ï¼Œå…è¨±ç”¨æˆ¶å°‡ä»»å‹™åˆ†é¡ç‚ºã€Œå·¥ä½œã€ã€ã€Œå­¸ç¿’ã€å’Œã€Œç”Ÿæ´»ã€ä¸‰å€‹é¡åˆ¥ï¼Œä¸¦æä¾›å®Œæ•´çš„ CRUD åŠŸèƒ½å’Œæ‹–æ”¾æ’åºåŠŸèƒ½ã€‚

## æŠ€è¡“æ£§

### å‰ç«¯æ¡†æ¶
- **React 19.2.0** - UI æ¡†æ¶
- **TypeScript 5.9.3** - é¡å‹å®‰å…¨
- **Vite 7.2.4** - å»ºç½®å·¥å…·å’Œé–‹ç™¼ä¼ºæœå™¨

### UI åº«èˆ‡å·¥å…·
- **@dnd-kit/core 6.3.1** - æ‹–æ”¾åŠŸèƒ½æ ¸å¿ƒ
- **@dnd-kit/sortable 10.0.0** - æ’åºåŠŸèƒ½
- **@dnd-kit/utilities 3.2.2** - æ‹–æ”¾å·¥å…·å‡½æ•¸

### å¾Œç«¯æœå‹™
- **Supabase** - å¾Œç«¯å³æœå‹™ï¼ˆBaaSï¼‰
  - PostgreSQL è³‡æ–™åº«
  - RESTful API
  - å³æ™‚è³‡æ–™åŒæ­¥

### é–‹ç™¼å·¥å…·
- **ESLint** - ç¨‹å¼ç¢¼æª¢æŸ¥
- **TypeScript ESLint** - TypeScript å°ˆç”¨æª¢æŸ¥

## åŠŸèƒ½éœ€æ±‚

### 1. ä»»å‹™åˆ†é¡
- æ”¯æ´ä¸‰å€‹å›ºå®šåˆ†é¡ï¼š
  - **å·¥ä½œ** (work) - ğŸ’¼
  - **å­¸ç¿’** (study) - ğŸ“š
  - **ç”Ÿæ´»** (life) - ğŸ 

### 2. ä»»å‹™ç®¡ç†åŠŸèƒ½

#### æ–°å¢ä»»å‹™
- é»æ“Šã€Œ+ æ–°å¢ä»»å‹™ã€æŒ‰éˆ•
- è¼¸å…¥ä»»å‹™æ¨™é¡Œï¼ˆå¿…å¡«ï¼‰
- è¼¸å…¥ä»»å‹™æè¿°ï¼ˆé¸å¡«ï¼‰
- è‡ªå‹•è¨­å®š `order_index`ï¼ˆä¾è©²åˆ†é¡ç¾æœ‰ä»»å‹™æ•¸é‡ï¼‰

#### ç·¨è¼¯ä»»å‹™
- é»æ“Šä»»å‹™å…§å®¹é€²å…¥ç·¨è¼¯æ¨¡å¼
- ä¿®æ”¹æ¨™é¡Œå’Œæè¿°
- å„²å­˜æˆ–å–æ¶ˆç·¨è¼¯

#### åˆªé™¤ä»»å‹™
- é»æ“Šä»»å‹™å³å´çš„ã€ŒÃ—ã€æŒ‰éˆ•
- ç¢ºèªå°è©±æ¡†å¾Œåˆªé™¤
- è‡ªå‹•é‡æ–°æ’åº

#### æ’åºåŠŸèƒ½
- æ‹–å‹•ä»»å‹™å·¦å´çš„æ‹–æ”¾æ‰‹æŸ„ï¼ˆå…­é»åœ–ç¤ºï¼‰
- åœ¨åŒä¸€åˆ†é¡å…§ä¸Šä¸‹ç§»å‹•ä»»å‹™
- è‡ªå‹•æ›´æ–° `order_index` ä¸¦åŒæ­¥åˆ°è³‡æ–™åº«
- æ”¯æ´éµç›¤æ“ä½œ

### 3. UI/UX ç‰¹æ€§
- éŸ¿æ‡‰å¼è¨­è¨ˆï¼ˆæ”¯æ´æ‰‹æ©Ÿã€å¹³æ¿ã€æ¡Œé¢ï¼‰
- å•†å‹™ç°¡ç´„é¢¨æ ¼
- èƒŒæ™¯åœ–ç‰‡ï¼ˆ`bg0115.png`ï¼‰èˆ‡åº•éƒ¨é€æ˜æ¼¸å±¤
- å¹³æ»‘å‹•ç•«å’Œéæ¸¡æ•ˆæœ
- è¼‰å…¥ç‹€æ…‹é¡¯ç¤º
- éŒ¯èª¤è¨Šæ¯æç¤º

## è³‡æ–™åº«çµæ§‹

### tasks è³‡æ–™è¡¨

```sql
CREATE TABLE tasks (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  category TEXT NOT NULL CHECK (category IN ('work', 'study', 'life')),
  title TEXT NOT NULL,
  description TEXT,
  order_index INTEGER NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### æ¬„ä½èªªæ˜
- `id` - å”¯ä¸€è­˜åˆ¥ç¢¼ï¼ˆUUIDï¼‰
- `category` - ä»»å‹™åˆ†é¡ï¼ˆ'work', 'study', 'life'ï¼‰
- `title` - ä»»å‹™æ¨™é¡Œï¼ˆå¿…å¡«ï¼‰
- `description` - ä»»å‹™æè¿°ï¼ˆé¸å¡«ï¼‰
- `order_index` - æ’åºç´¢å¼•ï¼ˆç”¨æ–¼åŒä¸€åˆ†é¡å…§çš„æ’åºï¼‰
- `created_at` - å»ºç«‹æ™‚é–“
- `updated_at` - æ›´æ–°æ™‚é–“ï¼ˆè‡ªå‹•æ›´æ–°ï¼‰

#### ç´¢å¼•
- `idx_tasks_category_order` - é‡å° `category` å’Œ `order_index` çš„è¤‡åˆç´¢å¼•ï¼Œå„ªåŒ–æŸ¥è©¢æ•ˆèƒ½

#### è§¸ç™¼å™¨
- `update_tasks_updated_at` - åœ¨æ›´æ–°è¨˜éŒ„æ™‚è‡ªå‹•æ›´æ–° `updated_at` æ¬„ä½

## å°ˆæ¡ˆçµæ§‹

```
pro20260115/
â”œâ”€â”€ public/                    # éœæ…‹è³‡æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/               # åœ–ç‰‡è³‡æº
â”‚   â”‚   â””â”€â”€ bg0115.png        # èƒŒæ™¯åœ–ç‰‡
â”‚   â”œâ”€â”€ components/            # React çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ CategorySection.tsx    # åˆ†é¡å€å¡Šçµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ CategorySection.css
â”‚   â”‚   â”œâ”€â”€ TaskList.tsx           # ä»»å‹™åˆ—è¡¨çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ TaskList.css
â”‚   â”‚   â”œâ”€â”€ TaskItem.tsx           # å–®ä¸€ä»»å‹™é …ç›®çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ TaskItem.css
â”‚   â”‚   â”œâ”€â”€ TaskForm.tsx           # æ–°å¢/ç·¨è¼¯è¡¨å–®çµ„ä»¶
â”‚   â”‚   â””â”€â”€ TaskForm.css
â”‚   â”œâ”€â”€ hooks/                # è‡ªè¨‚ Hooks
â”‚   â”‚   â””â”€â”€ useTasks.ts      # ä»»å‹™è³‡æ–™ç®¡ç† Hook
â”‚   â”œâ”€â”€ lib/                  # å·¥å…·å‡½æ•¸
â”‚   â”‚   â””â”€â”€ supabase.ts      # Supabase å®¢æˆ¶ç«¯è¨­å®š
â”‚   â”œâ”€â”€ types/                # TypeScript é¡å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ task.ts          # ä»»å‹™ç›¸é—œé¡å‹
â”‚   â”œâ”€â”€ styles/               # å…¨åŸŸæ¨£å¼
â”‚   â”‚   â””â”€â”€ globals.css      # å…¨åŸŸ CSS è®Šæ•¸å’ŒåŸºç¤æ¨£å¼
â”‚   â”œâ”€â”€ App.tsx               # ä¸»æ‡‰ç”¨çµ„ä»¶
â”‚   â”œâ”€â”€ App.css               # ä¸»æ‡‰ç”¨æ¨£å¼
â”‚   â”œâ”€â”€ main.tsx              # æ‡‰ç”¨å…¥å£
â”‚   â””â”€â”€ index.css             # å…¥å£æ¨£å¼
â”œâ”€â”€ database-schema.sql       # è³‡æ–™åº« Schema SQL è…³æœ¬
â”œâ”€â”€ .env.example              # ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
â”œâ”€â”€ package.json              # å°ˆæ¡ˆä¾è³´å’Œè…³æœ¬
â”œâ”€â”€ tsconfig.json             # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts            # Vite é…ç½®
â””â”€â”€ SPECIFICATION.md          # æœ¬è¦æ ¼æ–‡ä»¶
```

## çµ„ä»¶æ¶æ§‹

### CategorySection
åˆ†é¡å€å¡Šçµ„ä»¶ï¼Œè² è²¬ï¼š
- é¡¯ç¤ºåˆ†é¡æ¨™é¡Œå’Œåœ–ç¤º
- ç®¡ç†è©²åˆ†é¡ä¸‹çš„æ‰€æœ‰ä»»å‹™
- è™•ç†æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤ã€æ’åºæ“ä½œ
- æ•´åˆæ‹–æ”¾åŠŸèƒ½

**Props:**
- `category: TaskCategory` - åˆ†é¡é¡å‹
- `title: string` - åˆ†é¡æ¨™é¡Œ
- `icon: string` - åˆ†é¡åœ–ç¤ºï¼ˆEmojiï¼‰

### TaskList
ä»»å‹™åˆ—è¡¨çµ„ä»¶ï¼Œè² è²¬ï¼š
- é¡¯ç¤ºä»»å‹™åˆ—è¡¨
- è™•ç†ç©ºç‹€æ…‹é¡¯ç¤º
- æ•´åˆå¯æ’åºçš„ä»»å‹™é …ç›®

**Props:**
- `tasks: Task[]` - ä»»å‹™é™£åˆ—
- `onUpdate: (id, data) => Promise<void>` - æ›´æ–°å›èª¿
- `onDelete: (id) => Promise<void>` - åˆªé™¤å›èª¿

### TaskItem
å–®ä¸€ä»»å‹™é …ç›®çµ„ä»¶ï¼Œè² è²¬ï¼š
- é¡¯ç¤ºä»»å‹™å…§å®¹
- è™•ç†ç·¨è¼¯å’Œåˆªé™¤æ“ä½œ
- æä¾›æ‹–æ”¾æ‰‹æŸ„

**Props:**
- `task: Task` - ä»»å‹™ç‰©ä»¶
- `onUpdate: (id, data) => Promise<void>` - æ›´æ–°å›èª¿
- `onDelete: (id) => Promise<void>` - åˆªé™¤å›èª¿
- `dragHandleProps?: any` - æ‹–æ”¾å±¬æ€§
- `isDragging?: boolean` - æ˜¯å¦æ­£åœ¨æ‹–å‹•

### TaskForm
ä»»å‹™è¡¨å–®çµ„ä»¶ï¼Œè² è²¬ï¼š
- æ–°å¢æˆ–ç·¨è¼¯ä»»å‹™çš„è¡¨å–®
- é©—è­‰è¼¸å…¥
- æäº¤å’Œå–æ¶ˆæ“ä½œ

**Props:**
- `onSubmit: (data) => Promise<void>` - æäº¤å›èª¿
- `onCancel: () => void` - å–æ¶ˆå›èª¿
- `initialData?: TaskFormData` - åˆå§‹è³‡æ–™ï¼ˆç·¨è¼¯æ¨¡å¼ï¼‰
- `submitLabel?: string` - æäº¤æŒ‰éˆ•æ–‡å­—

## è³‡æ–™æµç¨‹

### useTasks Hook

è‡ªè¨‚ Hookï¼Œè² è²¬ç®¡ç†å–®ä¸€åˆ†é¡çš„ä»»å‹™è³‡æ–™ï¼š

**ç‹€æ…‹:**
- `tasks: Task[]` - ä»»å‹™åˆ—è¡¨
- `loading: boolean` - è¼‰å…¥ç‹€æ…‹
- `error: string | null` - éŒ¯èª¤è¨Šæ¯

**æ–¹æ³•:**
- `addTask(data: TaskFormData)` - æ–°å¢ä»»å‹™
- `updateTask(id: string, data: TaskFormData)` - æ›´æ–°ä»»å‹™
- `deleteTask(id: string)` - åˆªé™¤ä»»å‹™
- `reorderTasks(newOrder: Task[])` - é‡æ–°æ’åºä»»å‹™
- `refreshTasks()` - é‡æ–°è¼‰å…¥ä»»å‹™

## ç’°å¢ƒè¨­å®š

### ç’°å¢ƒè®Šæ•¸

å»ºç«‹ `.env.local` æª”æ¡ˆï¼ˆå¾ `.env.example` è¤‡è£½ï¼‰ï¼š

```env
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### Supabase è¨­å®šæ­¥é©Ÿ

1. åœ¨ Supabase å°ˆæ¡ˆä¸­å»ºç«‹æ–°è³‡æ–™è¡¨
2. åŸ·è¡Œ `database-schema.sql` ä¸­çš„ SQL è…³æœ¬
3. å¾ Supabase å°ˆæ¡ˆè¨­å®šä¸­å–å¾—ï¼š
   - Project URL
   - Anon/Public Key
4. å°‡ä¸Šè¿°è³‡è¨Šå¡«å…¥ `.env.local`

## è¨­è¨ˆè¦ç¯„

### é…è‰²æ–¹æ¡ˆ

```css
/* ä¸»è¦é¡è‰² */
--color-primary: #2563eb;           /* ä¸»è¦è—è‰² */
--color-primary-hover: #1d4ed8;    /* ä¸»è¦è—è‰²ï¼ˆæ‡¸åœï¼‰ */
--color-secondary: #64748b;         /* æ¬¡è¦ç°è‰² */
--color-success: #10b981;          /* æˆåŠŸç¶ è‰² */
--color-danger: #ef4444;            /* å±éšªç´…è‰² */

/* èƒŒæ™¯é¡è‰² */
--color-bg: #ffffff;                /* ç™½è‰²èƒŒæ™¯ */
--color-bg-secondary: #f8fafc;     /* æ¬¡è¦èƒŒæ™¯ */
--color-bg-tertiary: #f1f5f9;      /* ç¬¬ä¸‰èƒŒæ™¯ */

/* æ–‡å­—é¡è‰² */
--color-text: #1e293b;              /* ä¸»è¦æ–‡å­— */
--color-text-secondary: #64748b;   /* æ¬¡è¦æ–‡å­— */
--color-text-muted: #94a3b8;       /* å¼±åŒ–æ–‡å­— */

/* åˆ†é¡æ¨™é¡Œé¡è‰² */
åˆ†é¡æ¨™é¡Œ: #1e3a8a (æ·±è—è‰²)
åˆ†é¡æ¨™é¡Œå­—é«”å¤§å°: 24px
```

### é–“è·ç³»çµ±

```css
--spacing-xs: 4px;
--spacing-sm: 8px;
--spacing-md: 16px;
--spacing-lg: 24px;
--spacing-xl: 32px;
--spacing-2xl: 48px;
```

### åœ“è§’ç³»çµ±

```css
--radius-sm: 4px;
--radius-md: 8px;
--radius-lg: 12px;
```

### é™°å½±ç³»çµ±

```css
--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
```

### èƒŒæ™¯è¨­è¨ˆ

- **èƒŒæ™¯åœ–ç‰‡**: `src/assets/bg0115.png`
- **èƒŒæ™¯è¨­å®š**: 
  - `background-size: cover`
  - `background-position: center`
  - `background-attachment: fixed`
- **é€æ˜æ¼¸å±¤**: å¾åº•éƒ¨å‘ä¸Šæ¼¸è®Š
  - åº•éƒ¨: `rgba(248, 250, 252, 1)` (100% ä¸é€æ˜)
  - 20%: `rgba(248, 250, 252, 0.9)`
  - 50%: `rgba(248, 250, 252, 0.5)`
  - 80%: `transparent` (å®Œå…¨é€æ˜)

### éŸ¿æ‡‰å¼è¨­è¨ˆ

- **æ¡Œé¢** (> 1024px): ä¸‰æ¬„ä¸¦æ’
- **å¹³æ¿** (769px - 1024px): å…©æ¬„ä¸¦æ’
- **æ‰‹æ©Ÿ** (< 768px): å–®æ¬„é¡¯ç¤º

## é–‹ç™¼æŒ‡å—

### å®‰è£ä¾è³´

```bash
npm install
```

### é–‹ç™¼æ¨¡å¼

```bash
npm run dev
```

é–‹ç™¼ä¼ºæœå™¨å°‡åœ¨ `http://localhost:5173` å•Ÿå‹•ã€‚

### å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬

```bash
npm run build
```

### é è¦½ç”Ÿç”¢ç‰ˆæœ¬

```bash
npm run preview
```

### ç¨‹å¼ç¢¼æª¢æŸ¥

```bash
npm run lint
```

## API æ•´åˆ

### Supabase å®¢æˆ¶ç«¯

ä½ç½®: `src/lib/supabase.ts`

```typescript
import { createClient } from '@supabase/supabase-js';

const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;

export const supabase = createClient(supabaseUrl, supabaseAnonKey);
```

### è³‡æ–™æ“ä½œ

æ‰€æœ‰è³‡æ–™æ“ä½œé€é Supabase å®¢æˆ¶ç«¯é€²è¡Œï¼š

- **æŸ¥è©¢**: `supabase.from('tasks').select().eq('category', category).order('order_index')`
- **æ–°å¢**: `supabase.from('tasks').insert(data)`
- **æ›´æ–°**: `supabase.from('tasks').update(data).eq('id', id)`
- **åˆªé™¤**: `supabase.from('tasks').delete().eq('id', id)`

## éŒ¯èª¤è™•ç†

- æ‰€æœ‰ API æ“ä½œéƒ½åŒ…å«éŒ¯èª¤è™•ç†
- éŒ¯èª¤è¨Šæ¯é¡¯ç¤ºåœ¨ä½¿ç”¨è€…ä»‹é¢ä¸Š
- è¼‰å…¥å¤±æ•—æ™‚è‡ªå‹•é‡æ–°è¼‰å…¥è³‡æ–™
- æ‹–æ”¾æ’åºå¤±æ•—æ™‚æ¢å¾©åŸå§‹é †åº

## æ•ˆèƒ½å„ªåŒ–

- ä½¿ç”¨ React Hooks é€²è¡Œç‹€æ…‹ç®¡ç†
- æ¨‚è§€æ›´æ–° UIï¼ˆæ‹–æ”¾æ’åºï¼‰
- è³‡æ–™åº«ç´¢å¼•å„ªåŒ–æŸ¥è©¢æ•ˆèƒ½
- éŸ¿æ‡‰å¼åœ–ç‰‡è¼‰å…¥
- CSS è®Šæ•¸æ¸›å°‘é‡è¤‡æ¨£å¼

## ç€è¦½å™¨æ”¯æ´

- Chrome (æœ€æ–°ç‰ˆ)
- Firefox (æœ€æ–°ç‰ˆ)
- Safari (æœ€æ–°ç‰ˆ)
- Edge (æœ€æ–°ç‰ˆ)

## æœªä¾†æ“´å……åŠŸèƒ½å»ºè­°

1. ä½¿ç”¨è€…èªè­‰ç³»çµ±
2. ä»»å‹™å®Œæˆç‹€æ…‹
3. ä»»å‹™å„ªå…ˆç´š
4. ä»»å‹™æˆªæ­¢æ—¥æœŸ
5. ä»»å‹™æ¨™ç±¤ç³»çµ±
6. ä»»å‹™æœå°‹åŠŸèƒ½
7. ä»»å‹™ç¯©é¸åŠŸèƒ½
8. è³‡æ–™åŒ¯å‡ºåŠŸèƒ½
9. æ·±è‰²æ¨¡å¼
10. å¤šèªè¨€æ”¯æ´

## ç‰ˆæœ¬è³‡è¨Š

- **ç‰ˆæœ¬**: 0.0.0
- **å»ºç«‹æ—¥æœŸ**: 2025-01-15
- **æœ€å¾Œæ›´æ–°**: 2025-01-15

## æˆæ¬Š

æœ¬å°ˆæ¡ˆç‚ºç§æœ‰å°ˆæ¡ˆã€‚

## è¯çµ¡è³‡è¨Š

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯ç¹«å°ˆæ¡ˆç¶­è­·è€…ã€‚
